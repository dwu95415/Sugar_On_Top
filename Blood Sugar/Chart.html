<!DOCTYPE html>
<html>
<head>
    <title>Canvas Chart Demo</title>
    <link rel="stylesheet" href=
  "https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.css">
    <script src=
  "https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="Scripts/historyCanvas.js" type="text/javascript"></script>
    <script type="text/javascript">

    
     $(document).ready(function () {
            var breakfast = { title: "Blood Sugar",
                            xLabel: 'Day', 
                            yLabel: 'mg/DL',
                            labelFont: '19pt Arial', 
                            dataPointFont: '10pt Arial',
                            renderTypes: [historyGraph.renderType.lines, historyGraph.renderType.points],
                            dataPoints: [{ x: getDate(15), y: 300 }, 
                                         { x: getDate(14), y: 250 }, 
                                         { x: getDate(13), y: 225}, 
                                         { x: getDate(12), y: 240 },
                                         { x: getDate(11), y: 255 },
                                         { x: getDate(10), y: 220 }, 
                                         { x: getDate(9), y: 320 },
                                         { x: getDate(8), y: 340 },
                                         { x: getDate(7), y: 320 }, 
                                         { x: getDate(6), y: 230 },
                                         { x: getDate(5), y: 240 }, 
                                         { x: getDate(4), y: 190},
                                         { x: getDate(3), y: 230},
                                         { x: getDate(2), y: 220},
                                         { x: getDate(1), y: 220},
                                         { x: getDate(0), y: 230}]
    };

    var lunch = { title: "Blood Sugar",
                            xLabel: 'Day', 
                            yLabel: 'mg/DL',
                            labelFont: '19pt Arial', 
                            dataPointFont: '10pt Arial',
                            renderTypes: [historyGraph.renderType.lines, historyGraph.renderType.points],
                            dataPoints: [{ x: getDate(15), y: 220}, 
                                         { x: getDate(14), y: 230 }, 
                                         { x: getDate(13), y: 200}, 
                                         { x: getDate(12), y: 300 },
                                         { x: getDate(11), y: 255 },
                                         { x: getDate(10), y: 234 }, 
                                         { x: getDate(9), y: 333 },
                                         { x: getDate(8), y: 322 },
                                         { x: getDate(7), y: 310 }, 
                                         { x: getDate(6), y: 201 },
                                         { x: getDate(5), y: 204 }, 
                                         { x: getDate(4), y: 244},
                                         { x: getDate(3), y: 270},
                                         { x: getDate(2), y: 300},
                                         { x: getDate(1), y: 230},
                                         { x: getDate(0), y: 240}]
    };


            historyGraph.create('canvas', breakfast);
            historyGraph.create('canvas', lunch);
        });

    </script>

    <script>
    var getDate = function(index){
        var today = new Date();
        today.setDate(today.getDate() - index);
        var dd = today.getDate();
        var mm = today.getMonth()+1; //January is 0!

        if(dd<10) {
            dd='0'+dd
        } 

        if(mm<10) {
            mm='0'+mm
        }    

            today = mm+'/'+dd 
        return today;
    };
    </script>

    <script>
    var update = function(index){
        var id = "#" + index;
        if (id == "#breakfastBox"){
            if $(id).checked(){
                historyGraph.create('breakfastBox', breakfast);
            }
            else
                document.getElementById("breakfastBox").getContext("2d").clearRect(0, 0, $("#breakfastBox").width(), $("#breakfastBox").height());
        }
        if (id == ("#" + index)){
             historyGraph.create('lunchBox', breakfast);
            }
            else
                document.getElementById("lunchBox").getContext("2d").clearRect(0, 0, $("#lunchBox").width(), $("#lunchBox").height());
        }
        if (id == ("#" + index)){}
             historyGraph.create('dinnerBox', breakfast);
            }
            else
                document.getElementById("dinnerBox").getContext("2d").clearRect(0, 0, $("#dinnerBox").width(), $("#dinnerBox").height());
        }
    }
    </script>
</head>
<body style="margin-left:50px;margin-top:50px;">
<div class="container">
  <div class="row">
    <div class="col-md-10" id="graphColumn">
        <canvas id="canvas" width="800" height="600"></canvas>
        <canvas id="breakfast" width="800" height="600"></canvas>
        <canvas id="lunch" width="800" height="600"></canvas>
        <canvas id="dinner" width="800" height="600"></canvas>
    </div>
    <div class= "col-md-2" id="checkBoxColumn">
    <form action="/action_page.php" method="get">
        <input id="breakfastBox" type="checkbox" onclick="update(id);"/>Breakfast</br>
        <input id="lunchBox" type="checkbox" onclick="update(id);"/>Lunch</br>
        <input id="dinnerBox" type="checkbox" onclick="update(id);"/>Dinner</br>
    </form>
    </div>
    </div>
</div>
</body>
</html>
